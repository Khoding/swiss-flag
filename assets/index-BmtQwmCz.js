(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}})();const $=":host{display:block;position:relative}.flag-container{aspect-ratio:1;isolation:isolate;forced-color-adjust:none;--lightningcss-light:initial;--lightningcss-dark: ;--lightningcss-light:initial;--lightningcss-dark: ;color-scheme:light only;position:relative}.static-flag{top:var(--oscillate-distance);right:0;bottom:var(--oscillate-distance);display:flex;position:absolute;left:0}.static-flag .column{animation:none}.flag{block-size:100%;display:flex;position:relative}.flag.no-animation .column{animation:none}.column{animation:oscillate var(--animation-speed) infinite alternate ease-in-out backwards;filter:none!important}@keyframes oscillate{0%{transform:translateY(var(--oscillate-distance))}to{transform:translateY(calc(-1 * var(--oscillate-distance)))}}";class w extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this._mediaQuery=window.matchMedia("(prefers-reduced-motion: reduce)")}static get observedAttributes(){return["reduce-animation","remove-animation","animation-speed","oscillate-distance","staggered-delay","reduced-animation-speed","reduced-oscillate-distance","reduced-staggered-delay"]}connectedCallback(){this._mediaQuery.addEventListener("change",()=>this.render()),this.render()}disconnectedCallback(){this._mediaQuery.removeEventListener("change",()=>this.render())}attributeChangedCallback(){this.render()}get reduceAnimation(){return this.hasAttribute("reduce-animation")}get removeAnimation(){return this.hasAttribute("remove-animation")}get animationSpeed(){const e=this.getAttribute("animation-speed");return e?Number(e):void 0}get oscillateDistance(){const e=this.getAttribute("oscillate-distance");return e===null?void 0:e}get staggeredDelay(){const e=this.getAttribute("staggered-delay");return e?Number(e):void 0}get reducedAnimationSpeed(){const e=this.getAttribute("reduced-animation-speed");return e?Number(e):void 0}get reducedOscillateDistance(){const e=this.getAttribute("reduced-oscillate-distance");return e===null?void 0:e}get reducedStaggeredDelay(){const e=this.getAttribute("reduced-staggered-delay");return e?Number(e):void 0}get effectiveReduceAnimation(){return this.reduceAnimation||this._mediaQuery.matches}get gridSize(){return this.removeAnimation?5:this.effectiveReduceAnimation?15:32}get activeAnimationSpeed(){return this.effectiveReduceAnimation?this.reducedAnimationSpeed!==void 0?this.reducedAnimationSpeed:900:this.animationSpeed!==void 0?this.animationSpeed:600}get activeOscillateDistance(){return this.effectiveReduceAnimation?this.reducedOscillateDistance!==void 0?this.reducedOscillateDistance:"2%":this.oscillateDistance!==void 0?this.oscillateDistance:"2%"}get activeStaggeredDelay(){return this.effectiveReduceAnimation?this.reducedStaggeredDelay!==void 0?this.reducedStaggeredDelay:35:this.staggeredDelay!==void 0?this.staggeredDelay:50}getColumnStructures(e){const o=e!==void 0?e:this.gridSize,l=[],t=32;let i,r,c,d;o===32?(i=[6,25],r=[13,18],c=[13,18],d=[6,25]):o===15?(i=[3,11],r=[6,8],c=[6,8],d=[3,11]):(i=[1,3],r=[2,2],c=[2,2],d=[1,3]);const n=s=>{if(o===32)return 1;if(o===5)return s===1||s===3?7:6;const a=Math.floor(s/3);return a===1||a===3?7/3:2},g=(s,a)=>{let u=0;for(let m=s;m<a;m++)u+=n(m);return u};for(let s=0;s<o;s++){let a=-1,u=-1;const m=s>=c[0]&&s<=c[1],A=s>=i[0]&&s<=i[1];m?(a=d[0],u=d[1]):A&&(a=r[0],u=r[1]);let f=null,h=null;if(a===-1)h="red !important";else{const p=g(0,a),S=g(a,u+1),y=p/t*100,v=(p+S)/t*100;f=`linear-gradient(to bottom, #ff0000 0% ${y}%, #ffffff ${y}% ${v}%, #ff0000 ${v}% 100%) !important`}l.push({width:n(s),singleColor:h,background:f})}return l}render(){this.style.setProperty("--oscillate-distance",this.activeOscillateDistance),this.style.setProperty("--animation-speed",`${this.activeAnimationSpeed}ms`);const e=this.getColumnStructures(),o=this.activeStaggeredDelay,l=this.gridSize,t=e.map((n,g)=>`<div class="column" style="${[`animation-delay:${(g-l)*o}ms`,`flex:${n.width}`,n.singleColor?`background-color:${n.singleColor}`:"",n.background?`background:${n.background}`:""].filter(Boolean).join(";")}"></div>`).join(""),r=this.getColumnStructures(5).map(n=>`<div class="column" style="${[`flex:${n.width}`,n.singleColor?`background-color:${n.singleColor}`:"",n.background?`background:${n.background}`:""].filter(Boolean).join(";")}"></div>`).join(""),c=this.removeAnimation,d=`flag${this.effectiveReduceAnimation?" reduced-motion":""}${c?" no-animation":""}`;this.shadowRoot.innerHTML=`<style>${$}</style><div class="flag-container">${c?"":`<section class="static-flag">${r}</section>`}<section class="${d}">${t}</section></div><slot></slot>`}}customElements.define("swiss-flag",w);
