(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}})();const S=":host{display:block;position:relative}.flag{aspect-ratio:1;isolation:isolate;--lightningcss-light:initial;--lightningcss-dark: ;--lightningcss-light:initial;--lightningcss-dark: ;color-scheme:light only;forced-color-adjust:none;display:flex}.flag.no-animation .column{animation:none}.column{animation:oscillate var(--animation-speed) infinite alternate ease-in-out backwards;filter:none!important}@keyframes oscillate{0%{transform:translateY(var(--oscillate-distance))}to{transform:translateY(calc(-1 * var(--oscillate-distance)))}}";class w extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this._mediaQuery=window.matchMedia("(prefers-reduced-motion: reduce)")}static get observedAttributes(){return["reduce-animation","remove-animation","animation-speed","oscillate-distance","staggered-delay","reduced-animation-speed","reduced-oscillate-distance","reduced-staggered-delay"]}connectedCallback(){this._mediaQuery.addEventListener("change",()=>this.render()),this.render()}disconnectedCallback(){this._mediaQuery.removeEventListener("change",()=>this.render())}attributeChangedCallback(){this.render()}get reduceAnimation(){return this.hasAttribute("reduce-animation")}get removeAnimation(){return this.hasAttribute("remove-animation")}get animationSpeed(){const e=this.getAttribute("animation-speed");return e?Number(e):void 0}get oscillateDistance(){const e=this.getAttribute("oscillate-distance");return e===null?void 0:e}get staggeredDelay(){const e=this.getAttribute("staggered-delay");return e?Number(e):void 0}get reducedAnimationSpeed(){const e=this.getAttribute("reduced-animation-speed");return e?Number(e):void 0}get reducedOscillateDistance(){const e=this.getAttribute("reduced-oscillate-distance");return e===null?void 0:e}get reducedStaggeredDelay(){const e=this.getAttribute("reduced-staggered-delay");return e?Number(e):void 0}get effectiveReduceAnimation(){return this.reduceAnimation||this._mediaQuery.matches}get gridSize(){return this.removeAnimation?5:this.effectiveReduceAnimation?15:32}get activeAnimationSpeed(){return this.effectiveReduceAnimation?this.reducedAnimationSpeed!==void 0?this.reducedAnimationSpeed:900:this.animationSpeed!==void 0?this.animationSpeed:600}get activeOscillateDistance(){return this.effectiveReduceAnimation?this.reducedOscillateDistance!==void 0?this.reducedOscillateDistance:"2%":this.oscillateDistance!==void 0?this.oscillateDistance:"2%"}get activeStaggeredDelay(){return this.effectiveReduceAnimation?this.reducedStaggeredDelay!==void 0?this.reducedStaggeredDelay:35:this.staggeredDelay!==void 0?this.staggeredDelay:50}get columnStructures(){const e=this.gridSize,o=[],a=32;let t,i,r,c;e===32?(t=[6,25],i=[13,18],r=[13,18],c=[6,25]):e===15?(t=[3,11],i=[6,8],r=[6,8],c=[3,11]):(t=[1,3],i=[2,2],r=[2,2],c=[1,3]);const u=n=>{if(e===32)return 1;if(e===5)return n===1||n===3?7:6;const s=Math.floor(n/3);return s===1||s===3?7/3:2},g=(n,s)=>{let d=0;for(let l=n;l<s;l++)d+=u(l);return d};for(let n=0;n<e;n++){let s=-1,d=-1;const l=n>=r[0]&&n<=r[1],A=n>=t[0]&&n<=t[1];l?(s=c[0],d=c[1]):A&&(s=i[0],d=i[1]);let m=null,f=null;if(s===-1)f="red !important";else{const h=g(0,s),b=g(s,d+1),p=h/a*100,y=(h+b)/a*100;m=`linear-gradient(to bottom, #ff0000 0% ${p}%, #ffffff ${p}% ${y}%, #ff0000 ${y}% 100%) !important`}o.push({width:u(n),singleColor:f,background:m})}return o}render(){this.style.setProperty("--oscillate-distance",this.activeOscillateDistance),this.style.setProperty("--animation-speed",`${this.activeAnimationSpeed}ms`);const e=this.columnStructures,o=this.activeStaggeredDelay,a=this.gridSize,t=e.map((i,r)=>`<div class="column" style="${[`animation-delay:${(r-a)*o}ms`,`flex:${i.width}`,i.singleColor?`background-color:${i.singleColor}`:"",i.background?`background:${i.background}`:""].filter(Boolean).join(";")}"></div>`).join("");this.shadowRoot.innerHTML=`<style>${S}</style><section class="flag${this.effectiveReduceAnimation?" reduced-motion":""}${this.removeAnimation?" no-animation":""}">${t}</section><slot></slot>`}}customElements.define("swiss-flag",w);
