(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();const S=":host{display:block;position:relative}.flag{aspect-ratio:1;isolation:isolate;--lightningcss-light:initial;--lightningcss-dark: ;--lightningcss-light:initial;--lightningcss-dark: ;color-scheme:light only;forced-color-adjust:none;display:flex}.flag.no-animation .column{animation:none}.column{animation:oscillate var(--animation-speed) infinite alternate ease-in-out backwards;flex:1;filter:none!important}@keyframes oscillate{0%{transform:translateY(var(--oscillate-distance))}to{transform:translateY(calc(-1 * var(--oscillate-distance)))}}";class w extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this._mediaQuery=window.matchMedia("(prefers-reduced-motion: reduce)")}static get observedAttributes(){return["reduce-animation","animation-speed","oscillate-distance","staggered-delay","remove-animation"]}connectedCallback(){this._mediaQuery.addEventListener("change",()=>this.render()),this.render()}disconnectedCallback(){this._mediaQuery.removeEventListener("change",()=>this.render())}attributeChangedCallback(){this.render()}get reduceAnimation(){return this.hasAttribute("reduce-animation")}get removeAnimation(){return this.hasAttribute("remove-animation")}get animationSpeed(){const i=this.getAttribute("animation-speed");return i?Number(i):void 0}get oscillateDistance(){const i=this.getAttribute("oscillate-distance");return i===null?void 0:i}get staggeredDelay(){const i=this.getAttribute("staggered-delay");return i?Number(i):void 0}get effectiveReduceAnimation(){return this.reduceAnimation||this._mediaQuery.matches}get gridSize(){return this.removeAnimation?5:this.effectiveReduceAnimation?15:32}get activeStaggeredDelay(){return this.staggeredDelay!==void 0?this.staggeredDelay:this.effectiveReduceAnimation?35:50}get activeAnimationSpeed(){return this.animationSpeed!==void 0?this.animationSpeed:this.effectiveReduceAnimation?900:600}get activeOscillateDistance(){return this.oscillateDistance!==void 0?this.oscillateDistance:this.effectiveReduceAnimation?"3%":"2%"}get columnStructures(){const i=this.gridSize,a=[],o=32;let e,t,r,c;i===32?(e=[6,25],t=[13,18],r=[13,18],c=[6,25]):i===15?(e=[3,11],t=[6,8],r=[6,8],c=[3,11]):(e=[1,3],t=[2,2],r=[2,2],c=[1,3]);const u=n=>{if(i===32)return 1;if(i===5)return n===1||n===3?7:6;const s=Math.floor(n/3);return s===1||s===3?7/3:2},m=(n,s)=>{let l=0;for(let d=n;d<s;d++)l+=u(d);return l};for(let n=0;n<i;n++){let s=-1,l=-1;const d=n>=r[0]&&n<=r[1],A=n>=e[0]&&n<=e[1];d?(s=c[0],l=c[1]):A&&(s=t[0],l=t[1]);let f=null,h=null;if(s===-1)h="red !important";else{const g=m(0,s),b=m(s,l+1),p=g/o*100,y=(g+b)/o*100;f=`linear-gradient(to bottom, #ff0000 0% ${p}%, #ffffff ${p}% ${y}%, #ff0000 ${y}% 100%) !important`}a.push({width:u(n),singleColor:h,background:f})}return a}render(){this.style.setProperty("--oscillate-distance",this.activeOscillateDistance),this.style.setProperty("--animation-speed",`${this.activeAnimationSpeed}ms`);const i=this.columnStructures,a=this.activeStaggeredDelay,o=this.gridSize,e=i.map((t,r)=>`<div class="column" style="${[`animation-delay:${(r-o)*a}ms`,`flex:${t.width}`,t.singleColor?`background-color:${t.singleColor}`:"",t.background?`background:${t.background}`:""].filter(Boolean).join(";")}"></div>`).join("");this.shadowRoot.innerHTML=`<style>${S}</style><section class="flag${this.effectiveReduceAnimation?" reduced-motion":""}${this.removeAnimation?" no-animation":""}">${e}</section><slot></slot>`}}customElements.define("swiss-flag",w);
