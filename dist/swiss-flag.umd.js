(function(r,c){typeof exports=="object"&&typeof module<"u"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):(r=typeof globalThis<"u"?globalThis:r||self,c(r.SwissFlag={}))})(this,(function(r){"use strict";const c=":host{display:block;position:relative}.flag{aspect-ratio:1;isolation:isolate;--lightningcss-light:initial;--lightningcss-dark: ;--lightningcss-light:initial;--lightningcss-dark: ;color-scheme:light only;forced-color-adjust:none;display:flex}.flag.no-animation .column{animation:none}.column{animation:oscillate var(--animation-speed) infinite alternate ease-in-out backwards;filter:none!important}@keyframes oscillate{0%{transform:translateY(var(--oscillate-distance))}to{transform:translateY(calc(-1 * var(--oscillate-distance)))}}";class m extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this._mediaQuery=window.matchMedia("(prefers-reduced-motion: reduce)")}static get observedAttributes(){return["reduce-animation","remove-animation","animation-speed","oscillate-distance","staggered-delay","reduced-animation-speed","reduced-oscillate-distance","reduced-staggered-delay"]}connectedCallback(){this._mediaQuery.addEventListener("change",()=>this.render()),this.render()}disconnectedCallback(){this._mediaQuery.removeEventListener("change",()=>this.render())}attributeChangedCallback(){this.render()}get reduceAnimation(){return this.hasAttribute("reduce-animation")}get removeAnimation(){return this.hasAttribute("remove-animation")}get animationSpeed(){const e=this.getAttribute("animation-speed");return e?Number(e):void 0}get oscillateDistance(){const e=this.getAttribute("oscillate-distance");return e===null?void 0:e}get staggeredDelay(){const e=this.getAttribute("staggered-delay");return e?Number(e):void 0}get reducedAnimationSpeed(){const e=this.getAttribute("reduced-animation-speed");return e?Number(e):void 0}get reducedOscillateDistance(){const e=this.getAttribute("reduced-oscillate-distance");return e===null?void 0:e}get reducedStaggeredDelay(){const e=this.getAttribute("reduced-staggered-delay");return e?Number(e):void 0}get effectiveReduceAnimation(){return this.reduceAnimation||this._mediaQuery.matches}get gridSize(){return this.removeAnimation?5:this.effectiveReduceAnimation?15:32}get activeAnimationSpeed(){return this.effectiveReduceAnimation?this.reducedAnimationSpeed!==void 0?this.reducedAnimationSpeed:900:this.animationSpeed!==void 0?this.animationSpeed:600}get activeOscillateDistance(){return this.effectiveReduceAnimation?this.reducedOscillateDistance!==void 0?this.reducedOscillateDistance:"2%":this.oscillateDistance!==void 0?this.oscillateDistance:"2%"}get activeStaggeredDelay(){return this.effectiveReduceAnimation?this.reducedStaggeredDelay!==void 0?this.reducedStaggeredDelay:35:this.staggeredDelay!==void 0?this.staggeredDelay:50}get columnStructures(){const e=this.gridSize,u=[],g=32;let s,i,a,o;e===32?(s=[6,25],i=[13,18],a=[13,18],o=[6,25]):e===15?(s=[3,11],i=[6,8],a=[6,8],o=[3,11]):(s=[1,3],i=[2,2],a=[2,2],o=[1,3]);const h=t=>{if(e===32)return 1;if(e===5)return t===1||t===3?7:6;const n=Math.floor(t/3);return n===1||n===3?7/3:2},f=(t,n)=>{let d=0;for(let l=t;l<n;l++)d+=h(l);return d};for(let t=0;t<e;t++){let n=-1,d=-1;const l=t>=a[0]&&t<=a[1],b=t>=s[0]&&t<=s[1];l?(n=o[0],d=o[1]):b&&(n=i[0],d=i[1]);let p=null,y=null;if(n===-1)y="red !important";else{const v=f(0,n),w=f(n,d+1),A=v/g*100,S=(v+w)/g*100;p=`linear-gradient(to bottom, #ff0000 0% ${A}%, #ffffff ${A}% ${S}%, #ff0000 ${S}% 100%) !important`}u.push({width:h(t),singleColor:y,background:p})}return u}render(){this.style.setProperty("--oscillate-distance",this.activeOscillateDistance),this.style.setProperty("--animation-speed",`${this.activeAnimationSpeed}ms`);const e=this.columnStructures,u=this.activeStaggeredDelay,g=this.gridSize,s=e.map((i,a)=>`<div class="column" style="${[`animation-delay:${(a-g)*u}ms`,`flex:${i.width}`,i.singleColor?`background-color:${i.singleColor}`:"",i.background?`background:${i.background}`:""].filter(Boolean).join(";")}"></div>`).join("");this.shadowRoot.innerHTML=`<style>${c}</style><section class="flag${this.effectiveReduceAnimation?" reduced-motion":""}${this.removeAnimation?" no-animation":""}">${s}</section><slot></slot>`}}customElements.define("swiss-flag",m),r.SwissFlag=m,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})}));
